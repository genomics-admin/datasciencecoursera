{
    "contents" : "source(\"submitscript3.R\")\nbest <- function(state, outcome) {\n  ## Read outcome data\n  outcomeData <- read.csv(\"outcome-of-care-measures.csv\", colClasses = \"character\")\n  ## Check that state and outcome are valid\n  if (!state %in% unique(outcomeData[,\"State\"])) stop(\"invalid state\")\n  if (!outcome %in% c(\"heart attack\",\"heart failure\",\"pneumonia\")) stop(\"invalid outcome\")\n  ## Return hospital name in that state with lowest 30-day death\n  if(outcome == \"heart attack\"){\n    ocm <- \"Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack\"\n    bestDF <- outcomeData[outcomeData[\"State\"] == state,][c(\"Hospital.Name\",\"State\",ocm)]\n    bestDF <- bestDF[!bestDF[ocm]==\"Not Available\",][c(\"Hospital.Name\",\"State\",ocm)]\n    bestDF[, ocm] <- as.numeric(bestDF[, ocm])\n    bestDF <- bestDF[order(bestDF$\"Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack\",bestDF$\"Hospital.Name\"),]\n  }\n  else if(outcome == \"heart failure\"){\n    ocm <- \"Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure\"\n    bestDF <- outcomeData[outcomeData[\"State\"] == state,][c(\"Hospital.Name\",\"State\",ocm)]\n    bestDF <- bestDF[!bestDF[ocm]==\"Not Available\",][c(\"Hospital.Name\",\"State\",ocm)]\n    bestDF[, ocm] <- as.numeric(bestDF[, ocm])\n    bestDF <- bestDF[order(bestDF$\"Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure\",bestDF$\"Hospital.Name\"),]\n  }\n  else if(outcome == \"pneumonia\"){\n    ocm <- \"Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia\"\n    bestDF <- outcomeData[outcomeData[\"State\"] == state,][c(\"Hospital.Name\",\"State\",ocm)]\n    bestDF <- bestDF[!bestDF[ocm]==\"Not Available\",][c(\"Hospital.Name\",\"State\",ocm)]\n    bestDF[, ocm] <- as.numeric(bestDF[, ocm])\n    bestDF <- bestDF[order(bestDF$\"Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia\",bestDF$\"Hospital.Name\"),]\n  }\n  ## rate\n  print(bestDF)\n  print(\"--------------\")\n  print(bestDF[1,\"Hospital.Name\"])\n  print(\"--------------\")\n  return(bestDF[1,\"Hospital.Name\"])\n}\n\n##Test data\n#best(\"SC\", \"heart attack\")\nbest(\"NY\", \"pneumonia\")\n#best(\"NN\", \"pneumonia\")\n#best(\"NY\", \"hert attack\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n# [1] \"Provider.Number\"                                                                      \n# [2] \"Hospital.Name\"                                                                        \n# [3] \"Address.1\"                                                                            \n# [4] \"Address.2\"                                                                            \n# [5] \"Address.3\"                                                                            \n# [6] \"City\"                                                                                 \n# [7] \"State\"                                                                                \n# [8] \"ZIP.Code\"                                                                             \n# [9] \"County.Name\"                                                                          \n# [10] \"Phone.Number\"                                                                         \n# [11] \"Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack\"                            \n# [12] \"Comparison.to.U.S..Rate...Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack\"  \n# [13] \"Lower.Mortality.Estimate...Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack\" \n# [14] \"Upper.Mortality.Estimate...Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack\" \n# [15] \"Number.of.Patients...Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack\"       \n# [16] \"Footnote...Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack\"                 \n# [17] \"Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure\"                           \n# [18] \"Comparison.to.U.S..Rate...Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure\" \n# [19] \"Lower.Mortality.Estimate...Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure\"\n# [20] \"Upper.Mortality.Estimate...Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure\"\n# [21] \"Number.of.Patients...Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure\"      \n# [22] \"Footnote...Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure\"                \n# [23] \"Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia\"                               \n# [24] \"Comparison.to.U.S..Rate...Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia\"     \n# [25] \"Lower.Mortality.Estimate...Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia\"    \n# [26] \"Upper.Mortality.Estimate...Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia\"    \n# [27] \"Number.of.Patients...Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia\"          \n# [28] \"Footnote...Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia\"                    \n# [29] \"Hospital.30.Day.Readmission.Rates.from.Heart.Attack\"                                  \n# [30] \"Comparison.to.U.S..Rate...Hospital.30.Day.Readmission.Rates.from.Heart.Attack\"        \n# [31] \"Lower.Readmission.Estimate...Hospital.30.Day.Readmission.Rates.from.Heart.Attack\"     \n# [32] \"Upper.Readmission.Estimate...Hospital.30.Day.Readmission.Rates.from.Heart.Attack\"     \n# [33] \"Number.of.Patients...Hospital.30.Day.Readmission.Rates.from.Heart.Attack\"             \n# [34] \"Footnote...Hospital.30.Day.Readmission.Rates.from.Heart.Attack\"                       \n# [35] \"Hospital.30.Day.Readmission.Rates.from.Heart.Failure\"                                 \n# [36] \"Comparison.to.U.S..Rate...Hospital.30.Day.Readmission.Rates.from.Heart.Failure\"       \n# [37] \"Lower.Readmission.Estimate...Hospital.30.Day.Readmission.Rates.from.Heart.Failure\"    \n# [38] \"Upper.Readmission.Estimate...Hospital.30.Day.Readmission.Rates.from.Heart.Failure\"    \n# [39] \"Number.of.Patients...Hospital.30.Day.Readmission.Rates.from.Heart.Failure\"            \n# [40] \"Footnote...Hospital.30.Day.Readmission.Rates.from.Heart.Failure\"                      \n# [41] \"Hospital.30.Day.Readmission.Rates.from.Pneumonia\"                                     \n# [42] \"Comparison.to.U.S..Rate...Hospital.30.Day.Readmission.Rates.from.Pneumonia\"           \n# [43] \"Lower.Readmission.Estimate...Hospital.30.Day.Readmission.Rates.from.Pneumonia\"        \n# [44] \"Upper.Readmission.Estimate...Hospital.30.Day.Readmission.Rates.from.Pneumonia\"        \n# [45] \"Number.of.Patients...Hospital.30.Day.Readmission.Rates.from.Pneumonia\"                \n# [46] \"Footnote...Hospital.30.Day.Readmission.Rates.from.Pneumonia\"",
    "created" : 1398666190316.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3688893891",
    "id" : "45D4043A",
    "lastKnownWriteTime" : 1398720303,
    "path" : "~/Sandeep/GitHub/datasciencecoursera/IntroToR/Assignment3/best.R",
    "project_path" : "best.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : true,
    "type" : "r_source"
}